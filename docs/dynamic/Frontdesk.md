

# 前台动态结构设计

| 系统事件 | 获取用户状态               |
| -------- | -------------------------- |
| 交叉引用 | 创建详单用例               |
| 前置条件 | 主，从控机正常运行         |
| 后置条件 | 1.用户状态被创建           |
|          | 2.用户状态与前台服务员关联 |

| 操作名称 | 操作说明 |
| -------- | --- |
| AskUserState(roomID:int) | 前台服务员向系统请求房间状态；参数为房间号； |
| GiveRoomid（roomID:int） | 主控机将房间号传送给从控机；参数为房间号 |
| UserStateReq（） | 从控机请求获取房间状态 |
| ReqStart（） | 开始请求获取用户状态 |
| GiveUserState（） | 返回用户状态 |

![YWwy3q.png](https://s1.ax1x.com/2020/05/18/YWwy3q.png)

| 系统事件 |获取个人账单|
| -------- | --- |
| 交叉引用 |切换运行状态 Manager_001|
| 前置条件 |已获取用户状态|
| 后置条件 |1.个人账单被创建|
|           | 2.个人账单与前台服务员关联 |

| 事件名称 | 功能 |
| -------- | --- |
|AskForBill(roomID:int)|前台服务员向系统请求个人账单；参数为房间号；|
|GiveRoomid（roomID:int)|主控机将房间号传送给从控机；参数为用户房间号|
|BillReq（roomID:int）|从控机请求获取个人账单|

![YW0Lzq.png](https://s1.ax1x.com/2020/05/18/YW0Lzq.png)

| 系统事件 | PrintBill()            |
| -------- | ---------------------- |
| 交叉引用 | 打印账单               |
| 前置条件 | 住户办理退房业务       |
| 后置条件 | 1.新账单被创建         |
|          | 2.账单与前台建立“关联” |
|          | 3.账单属性初始化       |

| 事件名称                | 功能                                         |
| ----------------------- | -------------------------------------------- |
| AskForBill(roomID:int)  | 前台服务员向系统请求个人账单；参数为房间号； |
| GiveRoomid（roomID:int) | 主控机将房间号传送给从控机；参数为用户房间号 |
| BillReq（roomID:int）   | 从控机请求获取个人账单                       |
| printBill（）           | 打印获得的账单                               |

![YWBt0S.png](https://s1.ax1x.com/2020/05/18/YWBt0S.png)

| 系统事件 | AskforConsume()                  |
| -------- | -------------------------------- |
| 交叉引用 | 查看消费信息                     |
| 前置条件 | 经理向前台申请查看各房间消费记录 |
| 后置条件 | 1.新查询结果被创建               |
|          | 2.经理与前台建立“关联”           |
|          | 3.前台与系统建立“关联”           |

| 事件名称                 | 功能                                         |
| ------------------------ | -------------------------------------------- |
| AskForBill(roomID:int)   | 前台服务员向系统请求个人账单；参数为房间号； |
| GiveRoomid（roomID:int)  | 主控机将房间号传送给从控机；参数为用户房间号 |
| ConsumeReq（roomID:int） | 从控机请求获取个人账单                       |
| ReturnCon（roomID:int）  | 打印获得的账单                               |

[![YW6jyR.png](https://s1.ax1x.com/2020/05/18/YW6jyR.png)](https://imgchr.com/i/YW6jyR)