<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2228px" preserveAspectRatio="none" style="width:1101px;height:2228px;" version="1.1" viewBox="0 0 1101 2228" width="1101px" zoomAndPan="magnify"><defs><filter height="300%" id="f119prt0d3f49p" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="72" x="515.5" y="26.708">调度策略</text><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="2065.5078" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="346" y="104.3828"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="615" y="133.5156"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="615" y="215.9141"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="615" y="318.1172"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="271.3281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="615" y="439.6484"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="615" y="740.1094"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="241.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="615" y="1046.1094"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="615" y="1528.2344"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="615" y="1759.1641"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="615" y="2043.3594"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="930" y="652.7109"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="930" y="881.4453"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="930" y="1228.9063"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="182.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="930" y="1316.3047"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="167.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="930" y="1846.5625"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="777.0625" style="stroke: #000000; stroke-width: 2.0;" width="1001" x="13" y="177.6484"/><rect fill="#FFFFFF" height="672.5313" style="stroke: none; stroke-width: 1.0;" width="1001" x="13" y="282.1797"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="585.4609" style="stroke: #000000; stroke-width: 2.0;" width="981" x="23" y="362.25"/><rect fill="#FFFFFF" height="141.3359" style="stroke: none; stroke-width: 1.0;" width="981" x="23" y="806.375"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="694.0547" style="stroke: #000000; stroke-width: 2.0;" width="1067" x="23" y="968.7109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="108" x2="108" y1="73.25" y2="2187.8906"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="350.5" x2="350.5" y1="73.25" y2="2187.8906"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="619.5" x2="619.5" y1="73.25" y2="2187.8906"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="935" x2="935" y1="73.25" y2="2187.8906"/><rect fill="#FEFECE" filter="url(#f119prt0d3f49p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="33" y="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="40" y="57.9482">RequestController</text><rect fill="#FEFECE" filter="url(#f119prt0d3f49p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="33" y="2186.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="40" y="2206.8857">RequestController</text><rect fill="#FEFECE" filter="url(#f119prt0d3f49p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="306.5" y="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="313.5" y="57.9482">Scheduler</text><rect fill="#FEFECE" filter="url(#f119prt0d3f49p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="306.5" y="2186.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="313.5" y="2206.8857">Scheduler</text><rect fill="#FEFECE" filter="url(#f119prt0d3f49p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="561.5" y="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="99" x="568.5" y="57.9482">ServingQueue</text><rect fill="#FEFECE" filter="url(#f119prt0d3f49p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="561.5" y="2186.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="99" x="568.5" y="2206.8857">ServingQueue</text><rect fill="#FEFECE" filter="url(#f119prt0d3f49p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="876" y="37.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="883" y="57.9482">WaitingQueue</text><rect fill="#FEFECE" filter="url(#f119prt0d3f49p)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="876" y="2186.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="883" y="2206.8857">WaitingQueue</text><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="2065.5078" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="346" y="104.3828"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="615" y="133.5156"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="615" y="215.9141"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="615" y="318.1172"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="271.3281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="615" y="439.6484"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="615" y="740.1094"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="241.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="615" y="1046.1094"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="615" y="1528.2344"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="615" y="1759.1641"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="615" y="2043.3594"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="930" y="652.7109"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="930" y="881.4453"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="930" y="1228.9063"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="182.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="930" y="1316.3047"/><rect fill="#FFFFFF" filter="url(#f119prt0d3f49p)" height="167.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="930" y="1846.5625"/><polygon fill="#A80036" points="334,100.3828,344,104.3828,334,108.3828,338,104.3828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="108" x2="340" y1="104.3828" y2="104.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="115" y="99.3169">windRequest(request)</text><polygon fill="#A80036" points="603,129.5156,613,133.5156,603,137.5156,607,133.5156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="356" x2="609" y1="133.5156" y2="133.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="363" y="128.4497">checkCapacity()</text><polygon fill="#A80036" points="367,158.6484,357,162.6484,367,166.6484,363,162.6484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="361" x2="619" y1="162.6484" y2="162.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="373" y="157.5825">return(available/full)</text><path d="M13,177.6484 L85,177.6484 L85,184.6484 L75,194.6484 L13,194.6484 L13,177.6484 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="777.0625" style="stroke: #000000; stroke-width: 2.0;" width="1001" x="13" y="177.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="28" y="190.7153">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="69" x="100" y="189.8589">[available]</text><polygon fill="#A80036" points="603,211.9141,613,215.9141,603,219.9141,607,215.9141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="356" x2="609" y1="215.9141" y2="215.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="363" y="210.8481">pushServingRoom(room)</text><polygon fill="#A80036" points="367,241.0469,357,245.0469,367,249.0469,363,245.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="361" x2="619" y1="245.0469" y2="245.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="373" y="239.981">return(isOK)</text><polygon fill="#A80036" points="119,270.1797,109,274.1797,119,278.1797,115,274.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="113" x2="345" y1="274.1797" y2="274.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="125" y="269.1138">return(success)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="1014" y1="283.1797" y2="283.1797"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33" x="18" y="293.3901">[full]</text><polygon fill="#A80036" points="603,314.1172,613,318.1172,603,322.1172,607,318.1172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="356" x2="609" y1="318.1172" y2="318.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="363" y="313.0513">checkWindSpeed(requestWindSpeed)</text><polygon fill="#A80036" points="367,343.25,357,347.25,367,351.25,363,347.25" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="361" x2="619" y1="347.25" y2="347.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="373" y="342.1841">return(higher/equal/lower)</text><path d="M23,362.25 L95,362.25 L95,369.25 L85,379.25 L23,379.25 L23,362.25 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="585.4609" style="stroke: #000000; stroke-width: 2.0;" width="981" x="23" y="362.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="38" y="375.3169">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="52" x="110" y="374.4604">[higher]</text><path d="M251,384.3828 L251,409.3828 L337,409.3828 L337,394.3828 L327,384.3828 L251,384.3828 " fill="#00FFFF" filter="url(#f119prt0d3f49p)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M327,384.3828 L327,394.3828 L337,394.3828 L327,384.3828 " fill="#00FFFF" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="257" y="401.4497">优先级调度</text><polygon fill="#A80036" points="603,435.6484,613,439.6484,603,443.6484,607,439.6484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="356" x2="609" y1="439.6484" y2="439.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="363" y="434.5825">putlowestPriorityRoomIntoWaiting()</text><path d="M455,452.6484 L455,537.6484 L606,537.6484 L606,462.6484 L596,452.6484 L455,452.6484 " fill="#00FFFF" filter="url(#f119prt0d3f49p)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M596,452.6484 L596,462.6484 L606,462.6484 L596,452.6484 " fill="#00FFFF" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="461" y="469.7153">正在服务的服务对象中</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="461" y="484.8481">选风速最低的放入等待</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="461" y="499.981">队列；如果有多个风速</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="461" y="515.1138">相等，则找服务时间最</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="461" y="530.2466">长的</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="625" x2="667" y1="568.4453" y2="568.4453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="667" x2="667" y1="568.4453" y2="581.4453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="626" x2="667" y1="581.4453" y2="581.4453"/><polygon fill="#A80036" points="636,577.4453,626,581.4453,636,585.4453,632,581.4453" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="632" y="563.3794">sortBySpeedAndTime()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="625" x2="667" y1="610.5781" y2="610.5781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="667" x2="667" y1="610.5781" y2="623.5781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="626" x2="667" y1="623.5781" y2="623.5781"/><polygon fill="#A80036" points="636,619.5781,626,623.5781,636,627.5781,632,623.5781" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="632" y="605.5122">popRoom()</text><polygon fill="#A80036" points="918,648.7109,928,652.7109,918,656.7109,922,652.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="625" x2="924" y1="652.7109" y2="652.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="286" x="632" y="647.645">pushWaitingRoom(selectedRoom, waitTime)</text><polygon fill="#A80036" points="636,677.8438,626,681.8438,636,685.8438,632,681.8438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="630" x2="934" y1="681.8438" y2="681.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="642" y="676.7778">return(isOK)</text><polygon fill="#A80036" points="367,706.9766,357,710.9766,367,714.9766,363,710.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="361" x2="619" y1="710.9766" y2="710.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="373" y="705.9106">return(isOK)</text><polygon fill="#A80036" points="603,736.1094,613,740.1094,603,744.1094,607,740.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="356" x2="609" y1="740.1094" y2="740.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="363" y="735.0435">pushServingRoom(room)</text><polygon fill="#A80036" points="367,765.2422,357,769.2422,367,773.2422,363,769.2422" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="361" x2="619" y1="769.2422" y2="769.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="373" y="764.1763">return(isOK)</text><polygon fill="#A80036" points="119,794.375,109,798.375,119,802.375,115,798.375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="113" x2="345" y1="798.375" y2="798.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="125" y="793.3091">return(success)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="1004" y1="807.375" y2="807.375"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="106" x="28" y="817.5854">[equal or lower]</text><path d="M134,826.1797 L134,851.1797 L337,851.1797 L337,836.1797 L327,826.1797 L134,826.1797 " fill="#00FFFF" filter="url(#f119prt0d3f49p)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M327,826.1797 L327,836.1797 L337,836.1797 L327,826.1797 " fill="#00FFFF" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="140" y="843.2466">放入等待队列，等待时间片调度</text><polygon fill="#A80036" points="918,877.4453,928,881.4453,918,885.4453,922,881.4453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="356" x2="924" y1="881.4453" y2="881.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="363" y="876.3794">pushWaitingRoom(room, waitTime)</text><polygon fill="#A80036" points="367,906.5781,357,910.5781,367,914.5781,363,910.5781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="361" x2="934" y1="910.5781" y2="910.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="373" y="905.5122">return(isOK)</text><polygon fill="#A80036" points="119,935.7109,109,939.7109,119,943.7109,115,939.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="113" x2="345" y1="939.7109" y2="939.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="125" y="934.645">return(waiting)</text><path d="M23,968.7109 L101,968.7109 L101,975.7109 L91,985.7109 L23,985.7109 L23,968.7109 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="694.0547" style="stroke: #000000; stroke-width: 2.0;" width="1067" x="23" y="968.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33" x="38" y="981.7778">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="115" x="116" y="980.9214">[every s seconds]</text><path d="M251,990.8438 L251,1015.8438 L337,1015.8438 L337,1000.8438 L327,990.8438 L251,990.8438 " fill="#00FFFF" filter="url(#f119prt0d3f49p)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M327,990.8438 L327,1000.8438 L337,1000.8438 L327,990.8438 " fill="#00FFFF" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="257" y="1007.9106">时间片调度</text><polygon fill="#A80036" points="603,1042.1094,613,1046.1094,603,1050.1094,607,1046.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="356" x2="609" y1="1046.1094" y2="1046.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="363" y="1041.0435">putlowestPriorityRoomIntoWaiting()</text><path d="M455,1059.1094 L455,1114.1094 L606,1114.1094 L606,1069.1094 L596,1059.1094 L455,1059.1094 " fill="#00FFFF" filter="url(#f119prt0d3f49p)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M596,1059.1094 L596,1069.1094 L606,1069.1094 L596,1059.1094 " fill="#00FFFF" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="461" y="1076.1763">正在服务的服务对象中</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="461" y="1091.3091">选服务时间最长的放入</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="461" y="1106.4419">等待队列</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="625" x2="667" y1="1144.6406" y2="1144.6406"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="667" x2="667" y1="1144.6406" y2="1157.6406"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="626" x2="667" y1="1157.6406" y2="1157.6406"/><polygon fill="#A80036" points="636,1153.6406,626,1157.6406,636,1161.6406,632,1157.6406" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="632" y="1139.5747">sortBySpeedAndTime()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="625" x2="667" y1="1186.7734" y2="1186.7734"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="667" x2="667" y1="1186.7734" y2="1199.7734"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="626" x2="667" y1="1199.7734" y2="1199.7734"/><polygon fill="#A80036" points="636,1195.7734,626,1199.7734,636,1203.7734,632,1199.7734" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="632" y="1181.7075">popRoom()</text><polygon fill="#A80036" points="918,1224.9063,928,1228.9063,918,1232.9063,922,1228.9063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="625" x2="924" y1="1228.9063" y2="1228.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="286" x="632" y="1223.8403">pushWaitingRoom(selectedRoom, waitTime)</text><polygon fill="#A80036" points="636,1254.0391,626,1258.0391,636,1262.0391,632,1258.0391" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="630" x2="934" y1="1258.0391" y2="1258.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="642" y="1252.9731">return(isOK)</text><polygon fill="#A80036" points="367,1283.1719,357,1287.1719,367,1291.1719,363,1287.1719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="361" x2="619" y1="1287.1719" y2="1287.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="373" y="1282.106">return(isOK)</text><polygon fill="#A80036" points="918,1312.3047,928,1316.3047,918,1320.3047,922,1316.3047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="356" x2="924" y1="1316.3047" y2="1316.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="363" y="1311.2388">popNextRoomToServe()</text><path d="M796,1329.3047 L796,1384.3047 L921,1384.3047 L921,1339.3047 L911,1329.3047 L796,1329.3047 " fill="#00FFFF" filter="url(#f119prt0d3f49p)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M911,1329.3047 L911,1339.3047 L921,1339.3047 L911,1329.3047 " fill="#00FFFF" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="802" y="1346.3716">从等待队列中选取</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="802" y="1361.5044">等待服务时间超时</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="802" y="1376.6372">的等待对象</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="940" x2="982" y1="1414.8359" y2="1414.8359"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="982" x2="982" y1="1414.8359" y2="1427.8359"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="941" x2="982" y1="1427.8359" y2="1427.8359"/><polygon fill="#A80036" points="951,1423.8359,941,1427.8359,951,1431.8359,947,1427.8359" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="947" y="1409.77">sortByWaitingTime()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="940" x2="982" y1="1456.9688" y2="1456.9688"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="982" x2="982" y1="1456.9688" y2="1469.9688"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="941" x2="982" y1="1469.9688" y2="1469.9688"/><polygon fill="#A80036" points="951,1465.9688,941,1469.9688,951,1473.9688,947,1469.9688" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="947" y="1451.9028">popRoom()</text><polygon fill="#A80036" points="367,1495.1016,357,1499.1016,367,1503.1016,363,1499.1016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="361" x2="934" y1="1499.1016" y2="1499.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="373" y="1494.0356">return(room)</text><polygon fill="#A80036" points="603,1524.2344,613,1528.2344,603,1532.2344,607,1528.2344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="356" x2="609" y1="1528.2344" y2="1528.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="363" y="1523.1685">pushServingRoom(room)</text><polygon fill="#A80036" points="367,1553.3672,357,1557.3672,367,1561.3672,363,1557.3672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="361" x2="619" y1="1557.3672" y2="1557.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="373" y="1552.3013">return(isOK)</text><path d="M361,1570.3672 L361,1595.3672 L512,1595.3672 L512,1580.3672 L502,1570.3672 L361,1570.3672 " fill="#00FFFF" filter="url(#f119prt0d3f49p)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M502,1570.3672 L502,1580.3672 L512,1580.3672 L502,1570.3672 " fill="#00FFFF" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="367" y="1587.4341">服务端主动通知从控机</text><polygon fill="#A80036" points="119,1621.6328,109,1625.6328,119,1629.6328,115,1625.6328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="113" x2="345" y1="1625.6328" y2="1625.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="214" x="125" y="1620.5669">notifyRoomToStartServing(room)</text><polygon fill="#A80036" points="334,1650.7656,344,1654.7656,334,1658.7656,338,1654.7656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="108" x2="340" y1="1654.7656" y2="1654.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="115" y="1649.6997">return(isOK)</text><path d="M82,1674.7656 L82,1699.7656 L337,1699.7656 L337,1684.7656 L327,1674.7656 L82,1674.7656 " fill="#00FFFF" filter="url(#f119prt0d3f49p)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M327,1674.7656 L327,1684.7656 L337,1684.7656 L327,1674.7656 " fill="#00FFFF" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234" x="88" y="1691.8325">有服务对象关机（主动或达到目标温度）</text><polygon fill="#A80036" points="334,1726.0313,344,1730.0313,334,1734.0313,338,1730.0313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="108" x2="340" y1="1730.0313" y2="1730.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="115" y="1724.9653">turnOffRequest(request)</text><polygon fill="#A80036" points="603,1755.1641,613,1759.1641,603,1763.1641,607,1759.1641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="356" x2="609" y1="1759.1641" y2="1759.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="363" y="1754.0981">removeServingRoom(room)</text><polygon fill="#A80036" points="367,1784.2969,357,1788.2969,367,1792.2969,363,1788.2969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="361" x2="619" y1="1788.2969" y2="1788.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="373" y="1783.231">return(isOK)</text><polygon fill="#A80036" points="119,1813.4297,109,1817.4297,119,1821.4297,115,1817.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="113" x2="345" y1="1817.4297" y2="1817.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="125" y="1812.3638">return(success)</text><polygon fill="#A80036" points="918,1842.5625,928,1846.5625,918,1850.5625,922,1846.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="356" x2="924" y1="1846.5625" y2="1846.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="363" y="1841.4966">popNextRoomToServe()</text><path d="M757,1859.5625 L757,1899.5625 L921,1899.5625 L921,1869.5625 L911,1859.5625 L757,1859.5625 " fill="#00FFFF" filter="url(#f119prt0d3f49p)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M911,1859.5625 L911,1869.5625 L921,1869.5625 L911,1859.5625 " fill="#00FFFF" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="763" y="1876.6294">从等待队列中选取</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="763" y="1891.7622">剩余时间最短的等待对象</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="940" x2="982" y1="1929.9609" y2="1929.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="982" x2="982" y1="1929.9609" y2="1942.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="941" x2="982" y1="1942.9609" y2="1942.9609"/><polygon fill="#A80036" points="951,1938.9609,941,1942.9609,951,1946.9609,947,1942.9609" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="947" y="1924.895">sortByWaitingTime()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="940" x2="982" y1="1972.0938" y2="1972.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="982" x2="982" y1="1972.0938" y2="1985.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="941" x2="982" y1="1985.0938" y2="1985.0938"/><polygon fill="#A80036" points="951,1981.0938,941,1985.0938,951,1989.0938,947,1985.0938" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="947" y="1967.0278">popRoom()</text><polygon fill="#A80036" points="367,2010.2266,357,2014.2266,367,2018.2266,363,2014.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="361" x2="934" y1="2014.2266" y2="2014.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="373" y="2009.1606">return(room)</text><polygon fill="#A80036" points="603,2039.3594,613,2043.3594,603,2047.3594,607,2043.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="356" x2="609" y1="2043.3594" y2="2043.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="363" y="2038.2935">pushServingRoom(room)</text><polygon fill="#A80036" points="367,2068.4922,357,2072.4922,367,2076.4922,363,2072.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="361" x2="619" y1="2072.4922" y2="2072.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="373" y="2067.4263">return(isOK)</text><path d="M361,2085.4922 L361,2110.4922 L512,2110.4922 L512,2095.4922 L502,2085.4922 L361,2085.4922 " fill="#00FFFF" filter="url(#f119prt0d3f49p)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M502,2085.4922 L502,2095.4922 L512,2095.4922 L502,2085.4922 " fill="#00FFFF" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="367" y="2102.5591">服务端主动通知从控机</text><polygon fill="#A80036" points="119,2136.7578,109,2140.7578,119,2144.7578,115,2140.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="113" x2="345" y1="2140.7578" y2="2140.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="214" x="125" y="2135.6919">notifyRoomToStartServing(room)</text><polygon fill="#A80036" points="339,2165.8906,349,2169.8906,339,2173.8906,343,2169.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="108" x2="345" y1="2169.8906" y2="2169.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="115" y="2164.8247">return(isOK)</text><!--MD5=[6f87884d2c3931e81db1c5240c280cf8]
@startuml
title 调度策略

RequestController -> Scheduler: windRequest(request)

activate Scheduler

Scheduler -> ServingQueue: checkCapacity()

activate ServingQueue
ServingQueue -> Scheduler: return(available/full)
deactivate ServingQueue

opt available
    Scheduler -> ServingQueue: pushServingRoom(room)
    activate ServingQueue
    ServingQueue -> Scheduler: return(isOK)
    deactivate ServingQueue
    Scheduler -> RequestController: return(success)
else full
    Scheduler -> ServingQueue: checkWindSpeed(requestWindSpeed)
    activate ServingQueue
    ServingQueue -> Scheduler: return(higher/equal/lower)
    deactivate ServingQueue
    opt higher
        note left of Scheduler #aqua
            优先级调度
        end note
        Scheduler -> ServingQueue: putlowestPriorityRoomIntoWaiting()
        activate ServingQueue
        note left of ServingQueue #aqua
        正在服务的服务对象中
        选风速最低的放入等待
        队列；如果有多个风速
        相等，则找服务时间最
        长的
        end note
        ServingQueue -> ServingQueue: sortBySpeedAndTime()
        ServingQueue -> ServingQueue: popRoom()
        ServingQueue -> WaitingQueue: pushWaitingRoom(selectedRoom, waitTime)
        activate WaitingQueue
        WaitingQueue -> ServingQueue: return(isOK)
        deactivate WaitingQueue
        ServingQueue -> Scheduler: return(isOK)
        deactivate ServingQueue
        Scheduler -> ServingQueue: pushServingRoom(room)
        activate ServingQueue
        ServingQueue -> Scheduler: return(isOK)
        deactivate ServingQueue
        Scheduler -> RequestController: return(success)
    else equal or lower
        note left of Scheduler #aqua
            放入等待队列，等待时间片调度
        end note
        Scheduler -> WaitingQueue: pushWaitingRoom(room, waitTime)
        activate WaitingQueue
        WaitingQueue -> Scheduler: return(isOK)
        deactivate WaitingQueue
        Scheduler -> RequestController: return(waiting)
    end
end




loop every s seconds
    note left of Scheduler #aqua
        时间片调度
    end note
    
    Scheduler -> ServingQueue: putlowestPriorityRoomIntoWaiting()
    activate ServingQueue
        note left of ServingQueue #aqua
        正在服务的服务对象中
        选服务时间最长的放入
        等待队列
        end note
    ServingQueue -> ServingQueue: sortBySpeedAndTime()
    ServingQueue -> ServingQueue: popRoom()
    ServingQueue -> WaitingQueue: pushWaitingRoom(selectedRoom, waitTime)
    activate WaitingQueue
    WaitingQueue -> ServingQueue: return(isOK)
    deactivate WaitingQueue
    ServingQueue -> Scheduler: return(isOK)
    deactivate ServingQueue
    Scheduler -> WaitingQueue: popNextRoomToServe()
    activate WaitingQueue
        note left of WaitingQueue #aqua
        从等待队列中选取
        等待服务时间超时
        的等待对象
        end note
    WaitingQueue -> WaitingQueue: sortByWaitingTime()
    WaitingQueue -> WaitingQueue: popRoom()
    WaitingQueue -> Scheduler: return(room)
    deactivate WaitingQueue
    Scheduler -> ServingQueue: pushServingRoom(room)
    activate ServingQueue

    ServingQueue -> Scheduler: return(isOK)
    deactivate ServingQueue
        note right of Scheduler #aqua
        服务端主动通知从控机
        end note
    Scheduler -> RequestController: notifyRoomToStartServing(room)
    RequestController -> Scheduler: return(isOK)
    
end

note left of Scheduler #aqua
    有服务对象关机（主动或达到目标温度）
end note

RequestController -> Scheduler: turnOffRequest(request)
Scheduler -> ServingQueue: removeServingRoom(room)
activate ServingQueue
ServingQueue -> Scheduler: return(isOK)
deactivate ServingQueue
Scheduler -> RequestController: return(success)


Scheduler -> WaitingQueue: popNextRoomToServe()
    activate WaitingQueue
        note left of WaitingQueue #aqua
        从等待队列中选取
        剩余时间最短的等待对象
        end note
    WaitingQueue -> WaitingQueue: sortByWaitingTime()
    WaitingQueue -> WaitingQueue: popRoom()
    WaitingQueue -> Scheduler: return(room)
    deactivate WaitingQueue
    Scheduler -> ServingQueue: pushServingRoom(room)
    activate ServingQueue

    ServingQueue -> Scheduler: return(isOK)
    deactivate ServingQueue
        note right of Scheduler #aqua
        服务端主动通知从控机
        end note
    Scheduler -> RequestController: notifyRoomToStartServing(room)
    RequestController -> Scheduler: return(isOK)


deactivate Scheduler
@enduml

PlantUML version 1.2020.10(Sun May 17 09:35:57 UTC 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 14.0.1+7
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>